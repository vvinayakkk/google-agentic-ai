{
  "info": {
    "_postman_id": "farmer-app-collection-001",
    "name": "Farmer App API",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "description": "Postman collection for all Farmer App backend endpoints."
  },
  "variable": [
    { "key": "farmer_id", "value": "f001" },
    { "key": "item_id", "value": "item001" },
    { "key": "crop_id", "value": "crop001" },
    { "key": "event_id", "value": "event001" },
    { "key": "listing_id", "value": "listing001" },
    { "key": "chat_id", "value": "chat001" },
    { "key": "doc_id", "value": "doc001" },
    { "key": "city", "value": "Pune,IN" },
    { "key": "lat", "value": "18.5204" },
    { "key": "lon", "value": "73.8567" }
  ],
  "item": [
    {
      "name": "Root",
      "request": {
        "method": "GET",
        "header": [],
        "url": { "raw": "http:// 192.168.0.111:8000/", "protocol": "http", "host": [" 192.168.0.111"], "port": "8000", "path": [""] }
      }
    },
    {
      "name": "Farmer",
      "item": [
        {
          "name": "Get Farmer",
          "request": {
            "method": "GET",
            "url": { "raw": "http:// 192.168.0.111:8000/farmer/{{farmer_id}}", "host": [" 192.168.0.111"], "port": "8000", "path": ["farmer", "{{farmer_id}}"] }
          }
        },
        {
          "name": "Get Farmer Profile",
          "request": {
            "method": "GET",
            "url": { "raw": "http:// 192.168.0.111:8000/farmer/{{farmer_id}}/profile", "host": [" 192.168.0.111"], "port": "8000", "path": ["farmer", "{{farmer_id}}", "profile"] }
          }
        },
        {
          "name": "Get Livestock",
          "request": {
            "method": "GET",
            "url": { "raw": "http:// 192.168.0.111:8000/farmer/{{farmer_id}}/livestock", "host": [" 192.168.0.111"], "port": "8000", "path": ["farmer", "{{farmer_id}}", "livestock"] }
          }
        },
        {
          "name": "Get Crops",
          "request": {
            "method": "GET",
            "url": { "raw": "http:// 192.168.0.111:8000/farmer/{{farmer_id}}/crops", "host": [" 192.168.0.111"], "port": "8000", "path": ["farmer", "{{farmer_id}}", "crops"] }
          }
        },
        {
          "name": "Get Calendar Events",
          "request": {
            "method": "GET",
            "url": { "raw": "http:// 192.168.0.111:8000/farmer/{{farmer_id}}/calendar", "host": [" 192.168.0.111"], "port": "8000", "path": ["farmer", "{{farmer_id}}", "calendar"] }
          }
        },
        {
          "name": "Get Market Listings",
          "request": {
            "method": "GET",
            "url": { "raw": "http:// 192.168.0.111:8000/farmer/{{farmer_id}}/market", "host": [" 192.168.0.111"], "port": "8000", "path": ["farmer", "{{farmer_id}}", "market"] }
          }
        },
        {
          "name": "Get Chat History",
          "request": {
            "method": "GET",
            "url": { "raw": "http:// 192.168.0.111:8000/farmer/{{farmer_id}}/chat", "host": [" 192.168.0.111"], "port": "8000", "path": ["farmer", "{{farmer_id}}", "chat"] }
          }
        },
        {
          "name": "Get Documents",
          "request": {
            "method": "GET",
            "url": { "raw": "http:// 192.168.0.111:8000/farmer/{{farmer_id}}/documents", "host": [" 192.168.0.111"], "port": "8000", "path": ["farmer", "{{farmer_id}}", "documents"] }
          }
        },
        {
          "name": "Get Vectors",
          "request": {
            "method": "GET",
            "url": { "raw": "http:// 192.168.0.111:8000/farmer/{{farmer_id}}/vectors", "host": [" 192.168.0.111"], "port": "8000", "path": ["farmer", "{{farmer_id}}", "vectors"] }
          }
        },
        {
          "name": "Create Farmer",
          "request": {
            "method": "POST",
            "header": [ { "key": "Content-Type", "value": "application/json" } ],
            "body": { "mode": "raw", "raw": "{\n  \"farmerId\": \"string\",\n  \"name\": \"John Doe\"\n}" },
            "url": { "raw": "http:// 192.168.0.111:8000/farmer", "host": [" 192.168.0.111"], "port": "8000", "path": ["farmer"] }
          }
        },
        {
          "name": "Add Livestock",
          "request": {
            "method": "POST",
            "header": [ { "key": "Content-Type", "value": "application/json" } ],
            "body": { "mode": "raw", "raw": "{\n  \"id\": \"string\",\n  \"type\": \"Cow\",\n  \"count\": 5\n}" },
            "url": { "raw": "http:// 192.168.0.111:8000/farmer/{{farmer_id}}/livestock", "host": [" 192.168.0.111"], "port": "8000", "path": ["farmer", "{{farmer_id}}", "livestock"] }
          }
        },
        {
          "name": "Add Crop",
          "request": {
            "method": "POST",
            "header": [ { "key": "Content-Type", "value": "application/json" } ],
            "body": { "mode": "raw", "raw": "{\n  \"cropId\": \"string\",\n  \"name\": \"Wheat\"\n}" },
            "url": { "raw": "http:// 192.168.0.111:8000/farmer/{{farmer_id}}/crops", "host": [" 192.168.0.111"], "port": "8000", "path": ["farmer", "{{farmer_id}}", "crops"] }
          }
        },
        {
          "name": "Add Calendar Event",
          "request": {
            "method": "POST",
            "header": [ { "key": "Content-Type", "value": "application/json" } ],
            "body": { "mode": "raw", "raw": "{\n  \"task\": \"string\",\n  \"date\": \"2024-01-01\"\n}" },
            "url": { "raw": "http:// 192.168.0.111:8000/farmer/{{farmer_id}}/calendar", "host": [" 192.168.0.111"], "port": "8000", "path": ["farmer", "{{farmer_id}}", "calendar"] }
          }
        },
        {
          "name": "Add Market Listing",
          "request": {
            "method": "POST",
            "header": [ { "key": "Content-Type", "value": "application/json" } ],
            "body": { "mode": "raw", "raw": "{\n  \"id\": \"string\",\n  \"product\": \"Wheat\",\n  \"price\": 100\n}" },
            "url": { "raw": "http:// 192.168.0.111:8000/farmer/{{farmer_id}}/market", "host": [" 192.168.0.111"], "port": "8000", "path": ["farmer", "{{farmer_id}}", "market"] }
          }
        },
        {
          "name": "Add Chat History",
          "request": {
            "method": "POST",
            "header": [ { "key": "Content-Type", "value": "application/json" } ],
            "body": { "mode": "raw", "raw": "{\n  \"id\": \"string\",\n  \"message\": \"Hello\"\n}" },
            "url": { "raw": "http:// 192.168.0.111:8000/farmer/{{farmer_id}}/chat", "host": [" 192.168.0.111"], "port": "8000", "path": ["farmer", "{{farmer_id}}", "chat"] }
          }
        },
        {
          "name": "Add Document",
          "request": {
            "method": "POST",
            "header": [ { "key": "Content-Type", "value": "application/json" } ],
            "body": { "mode": "raw", "raw": "{\n  \"id\": \"string\",\n  \"name\": \"doc.pdf\"\n}" },
            "url": { "raw": "http:// 192.168.0.111:8000/farmer/{{farmer_id}}/documents", "host": [" 192.168.0.111"], "port": "8000", "path": ["farmer", "{{farmer_id}}", "documents"] }
          }
        },
        {
          "name": "Set Vectors",
          "request": {
            "method": "POST",
            "header": [ { "key": "Content-Type", "value": "application/json" } ],
            "body": { "mode": "raw", "raw": "{\n  \"vectorData\": []\n}" },
            "url": { "raw": "http:// 192.168.0.111:8000/farmer/{{farmer_id}}/vectors", "host": [" 192.168.0.111"], "port": "8000", "path": ["farmer", "{{farmer_id}}", "vectors"] }
          }
        },
        {
          "name": "Update Livestock",
          "request": {
            "method": "PUT",
            "header": [ { "key": "Content-Type", "value": "application/json" } ],
            "body": { "mode": "raw", "raw": "{\n  \"id\": \"string\",\n  \"type\": \"Cow\",\n  \"count\": 5\n}" },
            "url": { "raw": "http:// 192.168.0.111:8000/farmer/{{farmer_id}}/livestock/{{item_id}}", "host": [" 192.168.0.111"], "port": "8000", "path": ["farmer", "{{farmer_id}}", "livestock", "{{item_id}}"] }
          }
        },
        {
          "name": "Update Crop",
          "request": {
            "method": "PUT",
            "header": [ { "key": "Content-Type", "value": "application/json" } ],
            "body": { "mode": "raw", "raw": "{\n  \"cropId\": \"string\",\n  \"name\": \"Wheat\"\n}" },
            "url": { "raw": "http:// 192.168.0.111:8000/farmer/{{farmer_id}}/crops/{{crop_id}}", "host": [" 192.168.0.111"], "port": "8000", "path": ["farmer", "{{farmer_id}}", "crops", "{{crop_id}}"] }
          }
        },
        {
          "name": "Update Calendar Event",
          "request": {
            "method": "PUT",
            "header": [ { "key": "Content-Type", "value": "application/json" } ],
            "body": { "mode": "raw", "raw": "{\n  \"task\": \"string\",\n  \"date\": \"2024-01-01\"\n}" },
            "url": { "raw": "http:// 192.168.0.111:8000/farmer/{{farmer_id}}/calendar/{{event_id}}", "host": [" 192.168.0.111"], "port": "8000", "path": ["farmer", "{{farmer_id}}", "calendar", "{{event_id}}"] }
          }
        },
        {
          "name": "Update Market Listing",
          "request": {
            "method": "PUT",
            "header": [ { "key": "Content-Type", "value": "application/json" } ],
            "body": { "mode": "raw", "raw": "{\n  \"id\": \"string\",\n  \"product\": \"Wheat\",\n  \"price\": 100\n}" },
            "url": { "raw": "http:// 192.168.0.111:8000/farmer/{{farmer_id}}/market/{{listing_id}}", "host": [" 192.168.0.111"], "port": "8000", "path": ["farmer", "{{farmer_id}}", "market", "{{listing_id}}"] }
          }
        },
        {
          "name": "Update Chat History",
          "request": {
            "method": "PUT",
            "header": [ { "key": "Content-Type", "value": "application/json" } ],
            "body": { "mode": "raw", "raw": "{\n  \"id\": \"string\",\n  \"message\": \"Hello\"\n}" },
            "url": { "raw": "http:// 192.168.0.111:8000/farmer/{{farmer_id}}/chat/{{chat_id}}", "host": [" 192.168.0.111"], "port": "8000", "path": ["farmer", "{{farmer_id}}", "chat", "{{chat_id}}"] }
          }
        },
        {
          "name": "Update Document",
          "request": {
            "method": "PUT",
            "header": [ { "key": "Content-Type", "value": "application/json" } ],
            "body": { "mode": "raw", "raw": "{\n  \"id\": \"string\",\n  \"name\": \"doc.pdf\"\n}" },
            "url": { "raw": "http:// 192.168.0.111:8000/farmer/{{farmer_id}}/documents/{{doc_id}}", "host": [" 192.168.0.111"], "port": "8000", "path": ["farmer", "{{farmer_id}}", "documents", "{{doc_id}}"] }
          }
        },
        {
          "name": "Update Vectors",
          "request": {
            "method": "PUT",
            "header": [ { "key": "Content-Type", "value": "application/json" } ],
            "body": { "mode": "raw", "raw": "{\n  \"vectorData\": []\n}" },
            "url": { "raw": "http:// 192.168.0.111:8000/farmer/{{farmer_id}}/vectors", "host": [" 192.168.0.111"], "port": "8000", "path": ["farmer", "{{farmer_id}}", "vectors"] }
          }
        },
        {
          "name": "Delete Livestock",
          "request": {
            "method": "DELETE",
            "url": { "raw": "http:// 192.168.0.111:8000/farmer/{{farmer_id}}/livestock/{{item_id}}", "host": [" 192.168.0.111"], "port": "8000", "path": ["farmer", "{{farmer_id}}", "livestock", "{{item_id}}"] }
          }
        },
        {
          "name": "Delete Crop",
          "request": {
            "method": "DELETE",
            "url": { "raw": "http:// 192.168.0.111:8000/farmer/{{farmer_id}}/crops/{{crop_id}}", "host": [" 192.168.0.111"], "port": "8000", "path": ["farmer", "{{farmer_id}}", "crops", "{{crop_id}}"] }
          }
        },
        {
          "name": "Delete Calendar Event",
          "request": {
            "method": "DELETE",
            "url": { "raw": "http:// 192.168.0.111:8000/farmer/{{farmer_id}}/calendar/{{event_id}}", "host": [" 192.168.0.111"], "port": "8000", "path": ["farmer", "{{farmer_id}}", "calendar", "{{event_id}}"] }
          }
        },
        {
          "name": "Delete Market Listing",
          "request": {
            "method": "DELETE",
            "url": { "raw": "http:// 192.168.0.111:8000/farmer/{{farmer_id}}/market/{{listing_id}}", "host": [" 192.168.0.111"], "port": "8000", "path": ["farmer", "{{farmer_id}}", "market", "{{listing_id}}"] }
          }
        },
        {
          "name": "Delete Chat History",
          "request": {
            "method": "DELETE",
            "url": { "raw": "http:// 192.168.0.111:8000/farmer/{{farmer_id}}/chat/{{chat_id}}", "host": [" 192.168.0.111"], "port": "8000", "path": ["farmer", "{{farmer_id}}", "chat", "{{chat_id}}"] }
          }
        },
        {
          "name": "Delete Document",
          "request": {
            "method": "DELETE",
            "url": { "raw": "http:// 192.168.0.111:8000/farmer/{{farmer_id}}/documents/{{doc_id}}", "host": [" 192.168.0.111"], "port": "8000", "path": ["farmer", "{{farmer_id}}", "documents", "{{doc_id}}"] }
          }
        },
        {
          "name": "Delete Vectors",
          "request": {
            "method": "DELETE",
            "url": { "raw": "http:// 192.168.0.111:8000/farmer/{{farmer_id}}/vectors", "host": [" 192.168.0.111"], "port": "8000", "path": ["farmer", "{{farmer_id}}", "vectors"] }
          }
        }
      ]
    },
    {
      "name": "Weather",
      "item": [
        {
          "name": "Get Weather by City",
          "request": {
            "method": "GET",
            "url": { "raw": "http:// 192.168.0.111:8000/weather/city?city={{city}}", "host": [" 192.168.0.111"], "port": "8000", "path": ["weather", "city"], "query": [{"key": "city", "value": "{{city}}"}] }
          }
        },
        {
          "name": "Get Weather by Coords",
          "request": {
            "method": "GET",
            "url": { "raw": "http:// 192.168.0.111:8000/weather/coords?lat={{lat}}&lon={{lon}}", "host": [" 192.168.0.111"], "port": "8000", "path": ["weather", "coords"], "query": [{"key": "lat", "value": "{{lat}}"}, {"key": "lon", "value": "{{lon}}"}] }
          }
        },
        {
          "name": "Get Forecast by City",
          "request": {
            "method": "GET",
            "url": { "raw": "http:// 192.168.0.111:8000/weather/forecast/city?city={{city}}", "host": [" 192.168.0.111"], "port": "8000", "path": ["weather", "forecast", "city"], "query": [{"key": "city", "value": "{{city}}"}] }
          }
        },
        {
          "name": "Get Forecast by Coords",
          "request": {
            "method": "GET",
            "url": { "raw": "http:// 192.168.0.111:8000/weather/forecast/coords?lat={{lat}}&lon={{lon}}", "host": [" 192.168.0.111"], "port": "8000", "path": ["weather", "forecast", "coords"], "query": [{"key": "lat", "value": "{{lat}}"}, {"key": "lon", "value": "{{lon}}"}] }
          }
        },
        {
          "name": "Get Weather Alerts",
          "request": {
            "method": "GET",
            "url": { "raw": "http:// 192.168.0.111:8000/weather/alerts?lat={{lat}}&lon={{lon}}", "host": [" 192.168.0.111"], "port": "8000", "path": ["weather", "alerts"], "query": [{"key": "lat", "value": "{{lat}}"}, {"key": "lon", "value": "{{lon}}"}] }
          }
        }
      ]
    },
    {
      "name": "Voice Command",
      "item": [
        {
          "name": "Process Voice Command",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response has required fields\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('action');",
                  "    pm.expect(jsonData).to.have.property('summary');",
                  "});",
                  "",
                  "pm.test(\"Action is valid\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    var validActions = ['capture_image', 'soil_moisture', 'weather', 'profile', 'cattle_management', 'chat', 'do_nothing'];",
                  "    pm.expect(validActions).to.include(jsonData.action);",
                  "});",
                  "",
                  "pm.test(\"Summary is not empty\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.summary).to.not.be.empty;",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "multipart/form-data"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "file",
                  "type": "file",
                  "src": "sample.wav",
                  "description": "Audio file to be processed for voice command. Use a .wav file with speech content asking about farming, weather, crops, etc."
                }
              ]
            },
            "url": {
              "raw": "http://192.168.0.111:8000/voice-command/",
              "protocol": "http",
              "host": ["192.168.0.111"],
              "port": "8000",
              "path": ["voice-command", ""]
            },
            "description": "Upload an audio file to process voice commands. The endpoint will:\n1. Transcribe the audio using Google Speech-to-Text\n2. Process the transcribed text using RAG (Retrieval Augmented Generation)\n3. Return an action and summary response\n\nSupported audio formats: Any audio format that starts with 'audio/' MIME type\nExample queries you can speak:\n- \"What's the weather like today?\"\n- \"Tell me about my crops\"\n- \"How is my cattle doing?\"\n- \"Show me my farm profile\"\n- \"What should I do about soil moisture?\""
          }
        }
      ]
    },
    {
      "name": "Speech to Text",
      "item": [
        {
          "name": "Transcribe Audio",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response has transcription\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('transcription');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "multipart/form-data"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "file",
                  "type": "file",
                  "src": "sample.wav",
                  "description": "Audio file to be transcribed to text"
                }
              ]
            },
            "url": {
              "raw": "http://192.168.0.111:8000/speech-to-text/",
              "protocol": "http",
              "host": ["192.168.0.111"],
              "port": "8000",
              "path": ["speech-to-text", ""]
            },
            "description": "Upload an audio file to get transcribed text using Google Speech-to-Text API."
          }
        }
      ]
    },
    {
      "name": "RAG Chat",
      "item": [
        {
          "name": "Generate RAG Response",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response has required fields\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('response');",
                  "    pm.expect(jsonData).to.have.property('action');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"user_query\": \"What's the weather forecast for my farm?\",\n  \"chat_history\": \"\",\n  \"section\": \"crops\",\n  \"top_k\": 3\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "http://192.168.0.111:8000/chat/rag",
              "protocol": "http",
              "host": ["192.168.0.111"],
              "port": "8000",
              "path": ["chat", "rag"]
            },
            "description": "Generate AI response using RAG (Retrieval Augmented Generation) with context from farmer data, weather, market, etc."
          }
        }
      ]
    }
  ]
} 